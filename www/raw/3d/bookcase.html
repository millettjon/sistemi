<!doctype html>
<html lang="en">
  <head>
    <title>bookcase - three.js</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <style>
      body {
        font-family: Monospace;
        background-color: #f0f0f0;
        margin: 0px;
        overflow: hidden;
      }
    </style>
    <script src="jquery.min.js"></script>
    <script src="Three.js"></script>
    <script src="bookcase.js"></script>
  </head>
  <body>
    <p>Some text before div</p>
    <div id="model" style="border: 1px solid black; width: 300px;
    height: 300px; background-color: black;"></div>
    <p id="someText">Some text after div</p>
    <form>
        <input type="text"/>
        <br/>
        <select id="color">
          <option value="0x00ff00">green</option>
          <option value="0x000000">black</option>
          <option value="0xff0000">red</option>
          <option value="0x0000ff">blue</option>
          <option value="0xffffff">white</option>
        </select>
    </form>

    <script type='text/javascript'>
      // Define the bookcase unit.
      var bookcase = {height: 200, width: 150, depth: 50, color: 0xab003b, cutout: 'quaddro'};
      bookcase.color = 0x00FF00;
      //bookcase.cutout = 'none';
      //bookcase.cutout = 'ovale';
      //bookcase.width = 240;
      //bookcase.height = 70;
      //bookcase.depth = 25;

      //drawBookcase(bookcase, $("#model")[0]);
      drawBookcase(bookcase, document.getElementById("model"));
      startAnimation();

      $('#color').change(function() {
        // Get the color to change to.
        var value = $(this).val();
        bookcase.color = parseInt(value);

        // Set the background color to maintain contrast.
        //var bg = luminence(bookcase.color) > 0.2 ? '#000' : '#fff';
        //$("#model").css({'background-color': bg});

        updateAnimation(bookcase);
      });

    </script>
  </body>
</html>
